主要是由于实习做的东西是这个，面试经常问到，所以总结一下。

在业务中，经常需要跑一些定时触发的作业，这些作业会以一定的频率在某个特定时间点处罚，比如每周一0点跑一次。 这时候需要一个有效的调度系统来完成。



自己调研过的分布式定时任务系统 https://zhuanlan.zhihu.com/p/128601558



最终选型方案，参考一些开源框架和linux本身系统设计来实现。



* 延迟队列使用redis内置数据结构zset来实现，再基于时间轮分片的思想，把一天以小时为单位分为24个格子。当配置层新增任务时，判断任务最近执行时间距离现在是否在24h以内，如果时就装入一个zset里，否则先暂存到数据库。
* 时间轮轮转时，把23h以后的任务从数据库装入时间轮里




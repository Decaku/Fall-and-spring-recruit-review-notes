# 分页

将用户程序分成若干大小相同的页，一般是4KB，再把内存分成若干大小为4KB的页框。运行用户程序时，把每个页装载到页框中。

这种分页存储管理，允许程序在内存中是离散存储的。同时，对于每个进程来说都可以拥有逻辑上的整个内存空间，当前不需要访问的页可以暂时调出内存存储到硬盘上，当需要访问时就触发缺页中断调回内存。 关于内存淘汰机制还有诸多算法。。。

因为页在内存中离散存储，所以需要建立一张页表来映射页号和实际存储页框地址的关系。每个进程都有一张页表，页表也存储在内存里。

cpu在读取数据时，进行两次访存，先访问页表得到真实内存地址，然后访问真实地址。



# 分段

分段，是把用户程序按逻辑划分，比如，一个函数就可以划分为一个段。同一个进程的不同的段在内存中也离散存储。

类似，分页有页表，分段有页表。分页根据页号+页内偏移确定物理地址，分段通过段号+段内偏移确定物理地址。



# 区别

分页本质上是一种物理划分方式，由操作系统控制，分段本质是逻辑划分，可以由程序员控制。

由于段大小可以是任意的，所以内存管理会比较麻烦，容易出现内存碎片。 分页不容易出现外部内存碎片，可能出现内部内存碎片，但对于内存回收分配来说也友好多了。

分段更容易进行安全控制，比如程序加载后就不允许修改某些段内容(代码段)，分页存储，代码和数据是混合的。





后话：

目前流行的linux系统，只使用的分页式管理。而基于段的内存管理，我只在一本介绍x86 16位机器汇编的书上看过。
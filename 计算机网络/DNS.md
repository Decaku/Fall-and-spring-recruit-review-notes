# DNS

DNS的全名是域名服务，Domain Name Service。作用是把域名转换为对应的IP地址（上网冲浪不可能去记IP，一般都是记网站地址...）。DNS是应用层的协议，由浏览器提供。

b在这个过程中，客户端向本地域名服务器请求，本地域名服务器再向上查询并拿到结果的过程称为递归查询。本地域名服务器依次询问根/顶级/权威域名服务器的过程叫做迭代查询。两者的区别在于迭代查询时被请求方自己不会收到最终结果而只告诉你下一步该去哪里查。其实这也只是人为定义的概念。。。

一个域名可以对应多个IP地址，根据这个可以实现负载均衡。客户端解析得到多个IP后轮询IP选择负载小的服务器连接。同时，DNS在一定程度上保障了服务的高可用，因为如果服务器宕机后，可以把域名和其它可用服务器的IP绑定，这个过程叫重定向。

DNS也可能被用来做一些坏事。比如，恶意的DNS服务器屏蔽域名会导致浏览器打不开网页。或者DNS劫持，把域名解析到错误的IP上。

DNS的传输层协议一般会使用Udp,Udp传输一次报文长度只有512字节，一般来说这已经足够了，可以减少带宽消耗。同时Tcp传输需要经过三次握手，DNS解析域名时需要向多层服务器发送请求，这些时间累积起来也不可小觑。但是事情也不是绝对的，在域名服务器之间进行区域传输时会选择Tcp协议（辅助域名服务器向主域名服务器请求询问数据是否变动）。这是为了保证数据传输的可靠性，并且此时进行传输的数据量要比一个Udp报文段大很多。

